
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml">
   
   	
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <link rel="stylesheet" type="text/css" href="explain.css" />
      <title>SVG Exercise 2</title>
   </head>
   
   
   
   <body>
      <!--#include virtual="top.html" -->
      		
      			
      			
      		
      <h1><span class="banner">SVG Exercise 2</span></h1>
      			
      <p>Make an SVG bar graph from data you extract with XQuery. We would like you to work
         with Georg Forster's voyage account. (Georg, with his father Johann, accompanied Cook
         on his second voyage, and wrote his own alternative record of the experience, and
         he seems to have participated in recording latitude and longitude readings).
      </p>
      			
      <p>You'll be generating a bar graph showing counts per chapter of the <span class="code">geo</span> elements, together with a count of  <span class="code">&lt;geo select="lat"&gt;</span>  and <span class="code">&lt;geo select="lon"&gt;</span> elements that make up the total count. Our graph should help to show the relative
         proportion of latitude and longitude counts, and if any chapters include geo elements
         not marked as latitudes or longitudes, the graph should highlight that, too. We produced
         such a graph of the counts of geo coordinates in Cook's Second Voyage using stacked
         bars, and you can see a version of our output below on this page--to illustrate the
         stacked bars.
      </p>
      			
      <p>The svg output we're displaying on this page (scroll down below) is a little improved
         upon the simpler graph we showed you in class. We've used a "where" statement in our
         FLWOR to exclude chapters with 0 counts of geo elements, and we've found a way to
         sort our output, which we explain in our notes in Box (link below). (We used an "order
         by" statement, yes, but there's a little complication in finding position numbers
         within a sorted set from an "order by" statement in XQuery which we explain in our
         notes.) We've also refined our XQuery so that we're returning a header and line element
         inside <span class="code">div[@type="book]</span> together with similar info from a header and line in <span class="code">div[@type="chapter]</span>. 
      </p>
      			
      <p>Your task in this homework exercise is to write (or rewrite) our XQuery code so that
         you generate a readable SVG graph of the same information in Georg Forster's narrative.
         Here's some information you'll need to query the files:
      </p> 
      				
      <ul>
         					
         <li><b>Reminder:</b> <a href="explainXQuery.html">Instructions on how to access our DH/DS Sandbox Server's eXist</a>, first logging in with Internet Explorer to <a href="http://sremote.pitt.edu">http://sremote.pitt.edu</a>, and then using ANY browser you like to access our eXist: <a href="http://x1.digital.greensburg.pitt.edu:8080/exist/apps/dashboard/index.html">http://x1.digital.greensburg.pitt.edu:8080/exist/apps/dashboard/index.html</a>. <br /><br /></li>
         				
         <li><b>How to Query Georg Forster. To access just the Georg Forster file in XQuery, define
               a variable to lead you here:</b><br />
            				
            <ul>
               					
               <li>From our DH/DS Sandbox:  <span class="code">doc('/db/pacific/voyages/ForsterGeorgComplete.xml')</span><br /><br /></li>
               					
               <li>From Obdurodon's older version of eXist (if you can't get into our server): <span class="code">doc('/db/greensburg/pacific/voyages/ForsterGeorgComplete.xml')</span></li>
               				
            </ul>
            				
         </li>
         				
      </ul>
      			
      <p>1. Review how we constructed SVG from XQuery from your class notes from Wednesday
         and <a href="https://pitt.box.com/s/glnqly9udunpykwj6p14"><b>the Box SVG folder for this exercise</b></a>, containing our XQuery scripts and comments. You may choose to generate your graph
         <a href="https://pitt.box.com/s/w08enrevltjwplc4mjxr">exactly the way we did it in class</a> without the sorting improvements (that's fine with us), OR you may choose if you
         like to work with <b><a href="https://pitt.box.com/s/an4wzzj9zkhuz1zp5740">our improved version that generated the output below</a></b> (good experience and we think you can do it--we've marked everything we added to
         make the sorting work.) 
      </p>
      			
      <p>2. You'll need to tinker with the dimensions of SVG, working with the number of chapters
         you're including, and the size of your bars. Also you must IMPROVE on what we've posted
         (our work was incomplete):
      </p>
      			
      <ul>
         				
         <li>Add more <b>text</b> to the chart: place raw count data so it sits in the appropriate rectangles. Find
            a good way to label the X axis. Also, make sure you designate the title of your chart
            so it's distinct to Forster's text!)
         </li>
         				
         <li>We need you to produce <b>a legend</b> at the top to explain the color coding (little color-filled rectangles with explanatory
            text).
         </li>
         				
         <li>If you're generating your graph modelled on our class chapter-by-chapter layout, find
            a good way to help viewers differentiate between the chapter sets in different <b>Books</b>. 
         </li>
         				
         <li><b>Colors:</b> Use colors that not only appeal to you, but are clear to read and are related in
            some way. We used green for our totals and yellow and blue in our graph for latitude
            and longitude counts on the logic that "mixing yellow and blue makes green." You may
            use our color scheme,but there are other ways to use color to associate related forms
            of data: feel free to experiment! This is something we'll encourage you to be doing
            on your own with charting information from your project files, so this exercise will
            be good preparation and practice. 
         </li>
      </ul>
      			
      <p><b>What to submit on Courseweb:</b> 1. A document recording your XQuery 2. Your output svg file which you've edited and
         saved in oXygen. 3. Optional and worth some extra credit (see below): a link to an
         html page you made with your SVG. (You can record that in your document with your
         XQuery if you like.)
      </p>
      			
      			
      <p><b>Extra Credit:</b> <b>Do something new and different from what we've shown you in graphing this data.</b> You could redo the graph so the bars are NOT stacked but sitting side by side, change
         this so it's a vertical rather than horizontal graph, or make this a different KIND
         of graph altogether, so long as the data is visualized in a logical and useful way.
         Learn how to mount this on a web page, how to scale coordinates. (View page source
         to and look at our <span class="code">&lt;svg&gt;</span> element to see how we've set the svg in our html page for scaling, and <a href="http://dh.obdurodon.org/svg-embedding.xhtml">read more about "Embedding SVG in XHTML on obdurodon and elsewhere.</a>. Give us a link to your page if you post your SVG!
      </p>
      		
      		 
      <div id="svg">		
         			
         <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="2000" viewBox="0 0 1400 2000" preserveAspectRatio="xMinYMin meet">
            				
            <desc></desc>
            				
            				
            <g transform="translate(10, 2000)">
               					
               <text x="50" y="-1900" style="font-family:sans-serif;font-size:25px" fill="black" font-stretch="expanded">How do the Chapters in Cook's Second Voyage Compare in their Counts of Latitude and
                  Longitude Measurements?
               </text>
               					
               <line x1="148" y1="0" x2="1400" y2="0" stroke="black" stroke-width="2"></line>
               					
               <!-- x-axis: Look for your largest width value in your results to help figure out about where to set x2. -->
               					
               <line x1="148" y1="0" x2="148" y2="-1850" stroke="black" stroke-width="2"></line>
               					
               <!-- y-axis -->
               					
               <g>
                  						
                  <text x="0" y="-35" style="font-family:sans-serif;font-size:10px">BOOK I: CHAPTER IV.</text>
                  						
                  <rect x="150" y="-50" width="10" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-50" width="10" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-50" width="10" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-85" style="font-family:sans-serif;font-size:10px">BOOK I: CHAPTER VIII.</text>
                  						
                  <rect x="150" y="-100" width="20" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-100" width="20" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-100" width="10" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-135" style="font-family:sans-serif;font-size:10px">BOOK II.: CHAPTER VIII.</text>
                  						
                  <rect x="150" y="-150" width="20" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-150" width="20" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-150" width="10" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-185" style="font-family:sans-serif;font-size:10px">BOOK III.: CHAPTER VI.</text>
                  						
                  <rect x="150" y="-200" width="20" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-200" width="20" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-200" width="10" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-235" style="font-family:sans-serif;font-size:10px">BOOK IV.: CHAPTER II.</text>
                  						
                  <rect x="150" y="-250" width="20" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-250" width="20" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-250" width="10" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-285" style="font-family:sans-serif;font-size:10px">BOOK II.: CHAPTER VII.</text>
                  						
                  <rect x="150" y="-300" width="30" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-300" width="30" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-300" width="30" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-335" style="font-family:sans-serif;font-size:10px">BOOK III.: CHAPTER II</text>
                  						
                  <rect x="150" y="-350" width="30" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-350" width="30" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-350" width="10" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-385" style="font-family:sans-serif;font-size:10px">BOOK I: CHAPTER V.</text>
                  						
                  <rect x="150" y="-400" width="40" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-400" width="40" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-400" width="20" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-435" style="font-family:sans-serif;font-size:10px">BOOK I: CHAPTER XIV.</text>
                  						
                  <rect x="150" y="-450" width="40" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-450" width="40" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-450" width="30" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-485" style="font-family:sans-serif;font-size:10px">BOOK II.: CHAPTER IV.</text>
                  						
                  <rect x="150" y="-500" width="40" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-500" width="40" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-500" width="10" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-535" style="font-family:sans-serif;font-size:10px">BOOK II.: CHAPTER I.</text>
                  						
                  <rect x="150" y="-550" width="50" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-550" width="50" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-550" width="30" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-585" style="font-family:sans-serif;font-size:10px">BOOK II.: CHAPTER III.</text>
                  						
                  <rect x="150" y="-600" width="50" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-600" width="50" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-600" width="20" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-635" style="font-family:sans-serif;font-size:10px">BOOK II.: CHAPTER X.</text>
                  						
                  <rect x="150" y="-650" width="60" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-650" width="60" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-650" width="30" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-685" style="font-family:sans-serif;font-size:10px">BOOK III.: CHAPTER VIII.</text>
                  						
                  <rect x="150" y="-700" width="80" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-700" width="80" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-700" width="40" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-735" style="font-family:sans-serif;font-size:10px">BOOK IV.: CHAPTER III. </text>
                  						
                  <rect x="150" y="-750" width="90" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-750" width="90" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-750" width="40" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-785" style="font-family:sans-serif;font-size:10px">BOOK IV.: CHAPTER IX.</text>
                  						
                  <rect x="150" y="-800" width="90" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-800" width="90" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-800" width="30" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-835" style="font-family:sans-serif;font-size:10px">BOOK II.: CHAPTER XI.</text>
                  						
                  <rect x="150" y="-850" width="100" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-850" width="100" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-850" width="50" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-885" style="font-family:sans-serif;font-size:10px">BOOK III.: CHAPTER XI. </text>
                  						
                  <rect x="150" y="-900" width="100" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-900" width="100" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-900" width="50" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-935" style="font-family:sans-serif;font-size:10px">BOOK III.: CHAPTER I.</text>
                  						
                  <rect x="150" y="-950" width="110" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-950" width="110" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-950" width="60" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-985" style="font-family:sans-serif;font-size:10px">BOOK III.: CHAPTER III.</text>
                  						
                  <rect x="150" y="-1000" width="130" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1000" width="130" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1000" width="70" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1035" style="font-family:sans-serif;font-size:10px">BOOK IV.: CHAPTER VIII.</text>
                  						
                  <rect x="150" y="-1050" width="130" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1050" width="130" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1050" width="60" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1085" style="font-family:sans-serif;font-size:10px">BOOK IV.: CHAPTER XI.</text>
                  						
                  <rect x="150" y="-1100" width="130" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1100" width="130" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1100" width="60" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1135" style="font-family:sans-serif;font-size:10px">BOOK II.: CHAPTER IX.</text>
                  						
                  <rect x="150" y="-1150" width="140" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1150" width="140" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1150" width="80" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1185" style="font-family:sans-serif;font-size:10px">BOOK III.: CHAPTER IV.</text>
                  						
                  <rect x="150" y="-1200" width="140" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1200" width="80" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1200" width="30" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1235" style="font-family:sans-serif;font-size:10px">BOOK IV.: CHAPTER VII.</text>
                  						
                  <rect x="150" y="-1250" width="190" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1250" width="190" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1250" width="80" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1285" style="font-family:sans-serif;font-size:10px">BOOK I: CHAPTER VII.</text>
                  						
                  <rect x="150" y="-1300" width="220" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1300" width="220" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1300" width="80" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1335" style="font-family:sans-serif;font-size:10px">BOOK IV.: CHAPTER X.</text>
                  						
                  <rect x="150" y="-1350" width="240" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1350" width="240" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1350" width="120" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1385" style="font-family:sans-serif;font-size:10px">BOOK I: CHAPTER I.</text>
                  						
                  <rect x="150" y="-1400" width="250" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1400" width="250" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1400" width="140" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1435" style="font-family:sans-serif;font-size:10px">BOOK IV.: CHAPTER V.</text>
                  						
                  <rect x="150" y="-1450" width="340" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1450" width="340" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1450" width="140" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1485" style="font-family:sans-serif;font-size:10px">BOOK III.: CHAPTER X.</text>
                  						
                  <rect x="150" y="-1500" width="360" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1500" width="300" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1500" width="110" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1535" style="font-family:sans-serif;font-size:10px">BOOK III.: CHAPTER VII.</text>
                  						
                  <rect x="150" y="-1550" width="380" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1550" width="310" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1550" width="120" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1585" style="font-family:sans-serif;font-size:10px">BOOK I: CHAPTER IX.</text>
                  						
                  <rect x="150" y="-1600" width="590" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1600" width="590" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1600" width="300" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1635" style="font-family:sans-serif;font-size:10px">BOOK I: CHAPTER II.</text>
                  						
                  <rect x="150" y="-1650" width="630" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1650" width="630" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1650" width="300" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1685" style="font-family:sans-serif;font-size:10px">BOOK IV.: CHAPTER VI.</text>
                  						
                  <rect x="150" y="-1700" width="650" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1700" width="650" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1700" width="320" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1735" style="font-family:sans-serif;font-size:10px">BOOK IV.: CHAPTER I. </text>
                  						
                  <rect x="150" y="-1750" width="880" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1750" width="870" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1750" width="440" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1785" style="font-family:sans-serif;font-size:10px">BOOK I: CHAPTER III.</text>
                  						
                  <rect x="150" y="-1800" width="940" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1800" width="940" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1800" width="480" height="20" fill="blue"></rect>
                  					
               </g>
               					
               <g>
                  						
                  <text x="0" y="-1835" style="font-family:sans-serif;font-size:10px">BOOK II.: CHAPTER VI.</text>
                  						
                  <rect x="150" y="-1850" width="1170" height="20" fill="green"></rect>
                  						
                  <rect x="150" y="-1850" width="1170" height="20" fill="yellow"></rect>
                  						
                  <rect x="150" y="-1850" width="590" height="20" fill="blue"></rect>
                  					
               </g>
               				
            </g>
            			
         </svg>
         		 
      </div>
      		
      
      						
      	
   </body>
   
   
   
   
</html>