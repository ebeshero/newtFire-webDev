<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml">
   
   	
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <link rel="stylesheet" type="text/css" href="explain.css" />
      <title>XSLT Exercise 3</title>
   </head>
   
   
   
   <body>
      <!--#include virtual="top.html" -->
      		
      			
      <h1><span class="banner">XSLT Exercise 3</span></h1>
     <h3>The input text</h3>
         <p>For this assignment we’ll be using an XML file originally prepared by students in the Nell Nelson project team last fall. 
            We’ve modified it for use as an XSLT exercise, and the new version
            is available here at <a href="NelsonArticle_1888-07-30.xml">http://newtfire.org/dh/NelsonArticle_1888-07-30.xml</a>. You should
            right-click on this link, download the file, and open it in &lt;oXygen/&gt;. We’ll be
            using it for subsequent XSLT assignments, so keep a copy when you’re done with this one.
         </p>
      <p>Because this document (unlike our work with the Georg Forster Voyage File or the Digital Mitford Site Index) is not in a namespace,
         you should not add the <code>@xpath-default-namespace</code> attribute, and we do not need to alter &lt;oXygen&gt;'s default XSLT stylesheet template at all this time.</p>
      <p>To begin your XSLT stylesheet should look like this:</p>      
      <pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
      xmlns:xs="http://www.w3.org/2001/XMLSchema"
         xmlns:math="http://www.w3.org/2005/xpath-functions/math"
    exclude-result-prefixes="xs math"
    <span style="color:purple;">xmlns="http://www.w3.org/1999/xhtml"</span>
         version="3.0"&gt;
    
         <span style="color:green;">&lt;xsl:output method="xhtml" doctype-system="about:legacy-compat"/&gt;</span>
    
&lt;/xsl:stylesheet&gt;</pre>
      <h3>Overview of the assignment</h3>
      <p>For this assignment you want to write an XSLT stylesheet that will transform the XML input document into an HTML document that consists only of a table with companies, addresses, and working conditions. In order to create an HTML table, you need to know that a table in HTML is a <code>&lt;table&gt;</code> element that contains one <code>&lt;tr&gt;</code> (<q>table row</q>) element for each row of the table. Each cell in the row is a <code>&lt;td&gt;</code> (<q>table data</q>) element for regular rows and a <code>&lt;th&gt;</code> (<q>table header</q>) element for the header row. You can
         read more about HTML tables at 
         <a href="http://www.w3schools.com/html/html_tables.asp">http://www.w3schoos.com/html/html_tables.asp</a>.</p>
         <p>The desired output will look like:</p>
         <div class="code">
            <!-- RJP: this is temp. just to see how it looks while I finish the XSLT--><table>
            <tr>
               <th>Company Name</th>
               <th>Address</th>
               <th>Working Conditions</th>
            </tr>
            <tr>
               <td></td>
               <td></td>
               <td></td>
            </tr>
            <tr>
               <td></td>
               <td></td>
               <td></td>
            </tr>
            <tr>
               <td></td>
               <td></td>
               <td></td>
            </tr>
            <tr>
               <td></td>
               <td></td>
               <td></td>
            </tr>
            <tr>
               <td></td>
               <td></td>
               <td></td>
            </tr>
         </table>
         </div>
      <p>The underlying raw HTML, which we generated by running XSLT, should look like this:</p>
      <pre>
         
         
      </pre>
      
      <h3>Analysis of the task</h3>
      <p>The information that you want to output is all found inside the <code>&lt;articleBody&gt;</code> element in our input document. For the moment we’re going to ignore
         everything else inside of the <code>&lt;head&gt;</code> including the <code>&lt;headLine&gt;</code> elements. You want to generate one HTML
         table to contain information that you’ll extract from the <code>@ref</code>
         attributes associated with elements <code>&lt;company&gt;</code>, <code>&lt;location&gt;</code>, and <code>&lt;workingConditions&gt;</code>.  Your XSLT, then, should proceed along the following lines:</p>
      <ol>
         <li>In a template rule for the document node (<code>&lt;xsl:template
            match="/"&gt;</code>), create the HTML superstructure. Between the start and end
            <code>&lt;body&gt;</code> tags that you’ll be creating you should insert the
            main tags for an HTML tables. Between the start and end <code>&lt;table&gt;</code> tags, you should then insert
            <code>&lt;xsl:apply-template&gt;</code> elements that select the nodes you want
            to process to build the table. Be careful, though; there may be
            <code>&lt;company&gt;</code>, <code>&lt;location&gt;</code>, and <code>&lt;workingConditions&gt;</code> elements
            elsewhere in the document, such as inside <code>&lt;headLine&gt;</code> elements,
            and for the tables you’re producing you want only the ones that are inside the
            <code>&lt;articleBody&gt;</code> element.</li>
         <li>In XSLT, processing something normally happens in two parts. You normally have an
            <code>&lt;xsl:apply-templates&gt;</code> element that tells the system what
            elements (or other nodes) you want to process, and you then have an
            <code>&lt;xsl:template&gt;</code> element that tells the system exactly how you
            want to process those elements, that is, what you want to do with them. If you find
            the image helpful, you can think of this as a situation where the
            <code>&lt;xsl:apply-templates&gt;</code> elements <em>throw some nodes out into
               space and say <q>would someone please process these?</q>
            </em>and the various <code>&lt;xsl:template&gt;</code> elements sit around watching
            nodes fly by, and when they match something, they <em>grab it and process it</em>.
            In this case, then, your <code>&lt;xsl:apply-template&gt;</code> elements inside the
            template rule for the document node will tell the system that you want to process
            <code>&lt;company&gt;</code>, <code>&lt;location&gt;</code>, and <code>&lt;workingConditions&gt;</code> elements, at
            which point the template rule for the document node will have done its work by
            announcing what needs to be done. That work actually gets done by other
            <code>&lt;xsl:template&gt;</code> rules, the ones that you’ve written that match
            the <code>&lt;company&gt;</code>, <code>&lt;location&gt;</code>, and <code>&lt;workingConditions&gt;</code> elements.</li>
         <li>In the <code>&lt;xsl:template&gt;</code> rules for <code>&lt;company&gt;</code>, <code>&lt;location&gt;</code>, and <code>&lt;workingConditions&gt;</code> elements you’ll need to output something for each one. That is, for each <code>&lt;company&gt;</code>, <code>&lt;location&gt;</code>, and <code>&lt;workingConditions&gt;</code> element, you’ll need to output a line in your
            table.</li>
         <li>The values you use to populate your table cells come from attributes. Remember that
            attributes are on the <dfn>attribute axis</dfn>, which you can address by prefixing
            the name of the attribute with an <q>at</q> sign. For example, open NelsonArtical_1888-07-30.xml in
            &lt;oXygen/&gt;, go into the XPath browser box in the upper left, and search for
            <code>//articleBody/company/@ref</code>, and you’ll retrieve all of the
            <code>@ref</code> attribute values associated with <code>&lt;company&gt;</code>
            elements. You won’t use this exact XPath in your assignment, but it can serve to
            remind you how you address an attribute in XPath.</li>
      </ol>
        <p>For your assignment, then, you need to create an HTML table with a header row that labels the
            columns (Company Name | Address | Wage Description), and then create a separate row with data for each company.</p>
            
      
      
     				
    
    
      <h3>Important</h3>
      <ul>
         <li><em>Before submitting your homework, you must run the transformation at home</em> to
            make sure the results are what you expect them to be. There’s a guide to running
            XSLT transformations inside &lt;oXygen/&gt; on Obdurodon at <a
               href="http://dh.obdurodon.org/oxygen-xslt-configuration.html"
               title="How to run a transformation in oXygen"
               >http://dh.obdurodon.org/oxygen-xslt-configuration.html</a>. If you don’t get
            the results you expect and can’t figure out what you’re doing wrong, remember that you can post a query to our <a href="https://github.com/ebeshero/DHClass-Hub/issues">DHClass-Hub Issues board</a>. You can’t just ask for the answer,
            though; you need to describe what you tried, what you expected, what you got, and
            what you think the problem is. We often find, just as we’re preparing to post our
            own queries to coding discussion boards, that having to write up a description
            of the problem helps us think it through and solve it ourselves. We’re also
            encouraging you to discuss the homework on the discussion boards because that’s also
            helpful for the person who responds. Answering someone else’s
            inquiry and troubleshooting someone else’s problem often helps us clarify matters for
            ourselves!</li>
         <li>When you complete this assignment, you need only submit your XSLT file to Courseweb, following our usual homework file-naming conventions. We will run your XSLT transformation to see what output it generates, so you do not need to submit your output file.</li>
      </ul>
   </body>
   
   
   
   
</html>